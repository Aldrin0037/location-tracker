<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Tracker - Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Privacy Consent Banner -->
        <div id="consentBanner" class="consent-banner">
            <div class="consent-content">
                <h3>üîí Privacy & Consent Notice</h3>
                <p>
                    This application will collect your location data for <strong>demonstration and educational purposes only</strong>. 
                    By clicking "I Agree," you consent to:
                </p>
                <ul>
                    <li>Collection of your IP address for approximate location (city/region level)</li>
                    <li>Request for precise GPS coordinates (latitude/longitude) via your browser</li>
                    <li>Logging of this data to the server console</li>
                </ul>
                <p class="warning">
                    ‚ö†Ô∏è <strong>Important:</strong> Your data is used only for this demo and is not stored permanently, 
                    sold, or shared with third parties. You can deny precise location access and only IP-based 
                    location will be collected.
                </p>
                <div class="consent-buttons">
                    <button id="agreeBtn" class="btn btn-primary">I Agree - Continue</button>
                    <button id="declineBtn" class="btn btn-secondary">Decline</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div id="mainContent" class="main-content hidden">
            <header>
                <h1>üìç Geolocation Tracker Demo</h1>
                <p class="subtitle">Educational demonstration of browser-based geolocation capture</p>
            </header>

            <!-- Status Section -->
            <div id="statusSection" class="status-section">
                <div class="status-card">
                    <div class="loading-spinner"></div>
                    <h2>Requesting Location...</h2>
                    <p>Please allow location access when prompted by your browser.</p>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="results-section hidden">
                <div class="result-card">
                    <h2>‚úÖ Location Captured</h2>
                    
                    <!-- IP-Based Location -->
                    <div class="location-block">
                        <h3>üì° IP-Based Location (Approximate)</h3>
                        <div id="ipLocation" class="location-data">
                            <p><strong>IP Address:</strong> <span id="ipAddress">Loading...</span></p>
                            <p><strong>Location:</strong> <span id="ipCity">Loading...</span></p>
                            <p><strong>Coordinates:</strong> <span id="ipCoords">Loading...</span></p>
                            <p><strong>ISP:</strong> <span id="ipISP">Loading...</span></p>
                        </div>
                    </div>

                    <!-- GPS Location -->
                    <div class="location-block">
                        <h3>üõ∞Ô∏è GPS Location (Precise)</h3>
                        <div id="gpsLocation" class="location-data">
                            <p id="gpsStatus">Processing...</p>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <a id="mapLink" href="#" target="_blank" class="btn btn-primary hidden">View on Google Maps</a>
                        <button id="resetBtn" class="btn btn-secondary">Track Again</button>
                    </div>
                </div>
            </div>

            <!-- Privacy Policy -->
            <div class="privacy-section">
                <h3>üîê Privacy Policy</h3>
                <div class="privacy-content">
                    <h4>Data Collection</h4>
                    <p>This application collects:</p>
                    <ul>
                        <li><strong>IP Address:</strong> Automatically collected to provide approximate location</li>
                        <li><strong>GPS Coordinates:</strong> Only if you grant browser permission</li>
                        <li><strong>Timestamp:</strong> When the location was captured</li>
                    </ul>

                    <h4>Data Usage</h4>
                    <p>Collected data is used exclusively for:</p>
                    <ul>
                        <li>Demonstration and educational purposes</li>
                        <li>Logged to server console (not permanently stored in this demo)</li>
                        <li>NOT shared with third parties</li>
                        <li>NOT used for commercial purposes</li>
                    </ul>

                    <h4>Your Rights</h4>
                    <ul>
                        <li>You can deny location access at any time</li>
                        <li>You can revoke browser location permissions in your browser settings</li>
                        <li>IP-based location is approximate and cannot be disabled (inherent to web browsing)</li>
                    </ul>

                    <h4>Legal & Ethical Notice</h4>
                    <p class="warning">
                        ‚öñÔ∏è <strong>IMPORTANT:</strong> This application is for educational and demonstration purposes only. 
                        Using location tracking without explicit user consent is illegal in many jurisdictions and 
                        violates privacy laws such as GDPR, CCPA, and others. Always:
                    </p>
                    <ul>
                        <li>‚úÖ Obtain explicit, informed consent before tracking</li>
                        <li>‚úÖ Clearly state what data you collect and why</li>
                        <li>‚úÖ Provide users with the ability to opt-out</li>
                        <li>‚úÖ Secure the collected data appropriately</li>
                        <li>‚ùå NEVER track users without their knowledge</li>
                        <li>‚ùå NEVER use tracking for malicious purposes</li>
                    </ul>

                    <h4>Technical Details</h4>
                    <p>
                        This app uses the HTML5 Geolocation API and ip-api.com for IP-based geolocation. 
                        In production, data should be encrypted (HTTPS), stored securely in a database with 
                        proper access controls, and deleted according to your data retention policy.
                    </p>
                </div>
            </div>

            <footer>
                <p>‚ö†Ô∏è Educational Demo Only | Built with Node.js + Express | ¬© 2025</p>
            </footer>
        </div>

        <!-- Declined Section -->
        <div id="declinedSection" class="declined-section hidden">
            <div class="declined-content">
                <h2>‚ùå Consent Declined</h2>
                <p>You have declined to share your location data. This application cannot function without consent.</p>
                <p>If you change your mind, you can refresh the page to try again.</p>
                <button onclick="location.reload()" class="btn btn-primary">Refresh Page</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

